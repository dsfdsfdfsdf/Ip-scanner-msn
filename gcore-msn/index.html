<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCORE IP SCANNER msn</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #121212;
            color: #fff;
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(145deg, #ff0062, #e50055);
            color: white;
            text-align: center;
            font-size: 36px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
            border-bottom: 4px solid #e50055;
            transition: all 0.3s ease-in-out;
            border-radius: 8px 8px 0 0;
        }

        header:hover {
            background: linear-gradient(145deg, #e50055, #ff0062);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 40px auto;
            background-color: #1e1e1e;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .container:hover {
            transform: scale(1.02);
        }

        .form-group {
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
        }

        label {
            font-size: 18px;
            color: #ccc;
            font-weight: bold;
        }

        input, select, button {
            padding: 14px 20px;
            font-size: 16px;
            border-radius: 10px;
            border: 1px solid #333;
            background-color: #333;
            color: white;
            width: 48%;
            transition: all 0.3s ease;
        }

        input:focus, select:focus, button:focus {
            outline: none;
            border: 2px solid #ff0062;
            box-shadow: 0 0 10px rgba(255, 0, 98, 0.5);
        }

        button {
            background-color: #ff0062;
            cursor: pointer;
            font-size: 18px;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        button:hover {
            background-color: #e50055;
            transform: scale(1.05);
        }

        .result-list {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
            justify-content: center; /* Center the items */
        }

        .result-card {
            background-color: #333;
            border-radius: 12px;
            padding: 20px;
            width: 100%;
            max-width: 300px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .result-card:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.5);
        }

        .result-card h4 {
            color: #fff;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .result-card p {
            color: #bbb;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .copy-button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            text-align: center;
            width: 100%;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }

        .copy-button:hover {
            background-color: #ff0062;
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: #121212;
            color: #ff0062;
            font-size: 18px;
            position: relative;
            bottom: 0;
            width: 100%;
            border-top: 2px solid #333;
            box-shadow: 0 -12px 40px rgba(0, 0, 0, 0.5);
            border-radius: 0 0 8px 8px;
            margin-top: auto;
        }

        footer a {
            color: #ff0062;
            text-decoration: none;
            font-weight: bold;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* تنظیمات برای حالت موبایل */
        @media (max-width: 768px) {
            .form-group {
                flex-direction: column;
                gap: 10px;
            }

            input, select, button {
                width: 100%;
                font-size: 14px;
                padding: 12px;
            }

            .result-card {
                width: 100%;
                max-width: none;
                padding: 15px;
            }

            .copy-button {
                width: 100%;
                font-size: 18px;
            }

            /* لیست آی‌پی‌ها در حالت موبایل */
            .result-list {
                flex-direction: column;
                gap: 15px;
            }
        }

    </style>
</head>
<body>

    <header>
        GCORE IP SCANNER
    </header>

    <div class="container">
        <div class="form-group">
            <label for="max-latency">حداکثر تأخیر (ms):</label>
            <input type="number" id="max-latency" value="100">
        </div>

        <div class="form-group">
            <label for="ip-count">تعداد آی‌پی‌های تمیز:</label>
            <select id="ip-count">
                <option value="20" selected>20</option>
                <option value="50">50</option>
                <option value="100">100</option>
                <option value="200">200</option>
                <option value="500">500</option>
            </select>
        </div>

        <div class="form-group">
            <button onclick="startTest()">شروع تست</button>
        </div>

        <div class="result-list" id="result-list">
            <!-- نتایج اینجا نمایش داده می‌شود -->
        </div>
    </div>

    <footer>
        طراحی شده توسط <a href="https://t.me/mehdisedighinasab/" target="_blank">مهدی صدیقی نسب</a>
    </footer>

    <script>
        let testNo = 0;
        let validIPs = [];

        const cidrRanges = [
            '78.111.110.4/32', '45.82.101.9/32', '80.240.124.11/32', '92.223.118.4/32', '125.214.163.193/32', '92.223.118.200/32', '62.112.216.9/32', '103.178.28.13/32', '80.15.230.13/32', '92.223.124.51/32', '194.158.198.1/32', '93.123.17.174/32', '92.223.118.30/32', '5.188.121.132/32', '151.248.104.91/32', '80.15.252.45/32', '92.223.116.239/32', '62.112.216.8/32', '80.15.244.3/32', '92.223.107.60/32', '87.120.164.4/32', '80.15.246.13/32', '103.178.29.10/32', '80.93.223.4/32', '31.184.207.4/32', '92.223.112.12/32', '213.156.144.4/32', '37.239.145.3/32', '78.111.110.5/32', '80.15.231.3/32', '92.223.118.23/32', '92.223.124.29/32', '93.123.17.135/32', '92.38.168.6/32', '93.123.17.157/32', '80.15.243.1/32', '109.61.41.11/32', '80.15.235.17/32', '80.15.233.1/32', '92.223.76.20/32', '92.223.124.47/32', '92.223.12.15/32', '185.101.136.7/32', '185.76.48.122/32', '92.223.63.11/32', '93.123.17.186/32', '93.123.17.184/32', '92.223.120.15/32', '185.249.133.4/32', '92.223.107.43/32', '200.24.129.99/32', '80.15.244.17/32', '92.223.47.4/32', '92.223.63.21/32', '93.123.17.194/32', '195.216.237.197/32', '92.223.124.12/32', '109.61.41.10/32', '80.15.244.13/32', '193.36.180.8/32', '92.223.118.26/32', '92.223.122.185/32', '92.223.118.38/32', '91.149.176.70/32', '92.223.116.232/32', '92.223.124.13/32', '193.242.96.4/32', '80.15.252.61/32', '185.244.209.5/32', '193.169.250.5/32', '80.15.231.1/32', '103.178.29.11/32', '45.82.103.8/32', '92.223.12.9/32', '92.223.40.9/32', '92.223.124.15/32', '185.163.3.5/32', '92.223.63.25/32', '80.15.244.1/32', '185.188.144.5/32', '92.223.116.221/32', '92.223.40.6/32', '5.8.92.6/32', '92.223.12.19/32', '80.15.251.29/32', '93.123.17.132/32', '93.123.17.134/32', '213.252.220.4/32', '91.243.87.5/32', '45.80.213.4/32', '79.133.108.16/32', '185.244.209.4/32', '213.156.156.5/32', '5.188.126.7/32', '92.223.63.28/32', '185.101.136.8/32', '80.15.232.1/32', '93.123.17.177/32', '1.37.77.98/32', '92.223.40.15/32', '91.149.176.68/32', '194.158.198.4/32', '79.133.108.23/32', '37.110.209.228/32', '92.223.118.202/32', '80.15.250.9/32', '79.133.108.30/32', '92.223.116.222/32', '92.223.116.230/32', '92.223.118.22/32', '217.195.193.5/32', '82.200.205.204/32', '92.223.124.45/32', '92.223.55.17/32', '62.209.27.232/32', '92.223.12.17/32', '92.223.114.6/32', '92.223.63.23/32', '92.223.124.50/32', '185.188.144.7/32', '92.223.124.28/32', '62.112.216.5/32', '94.176.183.7/32', '93.123.17.141/32', '92.223.76.22/32', '95.85.69.6/32', '92.223.124.53/32', '80.15.233.3/32', '5.252.26.4/32', '80.15.244.5/32', '41.210.189.22/32', '193.36.180.12/32', '185.158.211.186/32', '192.16.87.129/32', '80.15.235.27/32', '92.223.118.25/32', '186.16.19.94/32', '45.82.103.5/32', '92.223.124.36/32', '80.240.113.13/32', '45.82.100.4/32', '92.223.107.47/32', '92.223.118.201/32', '80.240.124.10/32', '92.223.55.13/32', '185.101.136.13/32', '200.24.129.100/32', '150.107.126.5/32', '80.240.113.14/32', '185.244.209.6/32', '92.223.114.7/32', '92.38.168.5/32', '92.223.118.20/32', '92.223.76.23/32', '92.223.76.27/32', '92.223.12.18/32', '45.82.101.6/32', '93.123.17.136/32', '80.93.215.7/32', '92.223.40.5/32', '92.223.124.30/32', '103.211.151.21/32', '92.223.64.4/32', '92.223.124.46/32', '92.223.116.231/32', '92.223.64.12/32', '93.123.11.17/32', '93.123.17.183/32', '5.101.222.5/32', '93.123.17.189/32', '92.223.63.8/32', '92.223.107.52/32', '194.158.198.2/32', '93.123.17.153/32', '217.76.64.195/32', '92.223.12.16/32', '185.194.11.74/32', '92.223.40.7/32', '5.189.207.5/32', '139.28.7.4/32', '92.223.12.5/32', '193.169.250.8/32', '103.178.28.6/32', '31.184.207.9/32', '79.133.108.15/32', '80.93.215.6/32', '92.223.124.55/32', '5.101.68.8/32', '92.223.114.14/32', '41.226.6.202/32', '92.223.116.213/32', '80.15.243.3/32', '92.223.78.23/32', '197.148.108.106/32', '193.169.251.9/32', '45.82.103.6/32', '92.223.124.31/32', '92.223.12.26/32', '103.178.28.16/32', '66.84.78.137/32', '103.178.28.10/32', '45.80.213.7/32', '80.15.243.15/32', '46.49.10.231/32', '5.252.26.5/32', '185.105.1.10/32', '194.158.198.5/32', '5.188.133.13/32', '92.223.124.25/32', '80.15.251.21/32', '93.123.17.170/32', '92.223.63.22/32', '31.184.207.8/32', '80.15.251.1/32', '170.238.234.217/32', '92.223.122.184/32', '92.223.116.201/32', '92.223.124.17/32', '193.36.180.11/32', '93.123.17.180/32', '185.211.231.186/32', '103.178.29.5/32', '202.129.236.162/32', '62.112.223.5/32', '93.123.17.169/32', '80.15.248.1/32', '93.123.17.182/32', '80.15.230.15/32', '92.223.123.20/32', '195.216.237.203/32', '80.15.246.15/32', '92.223.116.215/32', '80.15.228.3/32', '5.188.121.133/32', '93.123.17.190/32', '89.223.90.4/32', '79.133.108.8/32', '92.223.118.40/32', '93.123.17.133/32', '80.15.252.41/32', '37.17.119.211/32', '185.163.3.4/32', '92.223.124.35/32', '93.123.17.187/32', '193.169.251.5/32', '92.223.12.24/32', '92.223.76.24/32', '94.176.183.6/32', '45.82.101.5/32', '5.8.43.4/32', '79.133.108.28/32', '93.123.11.19/32', '197.215.44.65/32', '85.92.120.117/32', '5.252.26.6/32', '92.223.63.4/32', '80.240.124.8/32', '92.223.55.15/32', '66.84.78.129/32', '180.149.90.66/32', '92.223.124.56/32', '93.123.11.12/32', '43.245.140.2/32', '95.85.92.4/32', '200.24.129.98/32', '79.133.108.25/32', '92.223.124.26/32', '193.57.89.5/32', '92.223.118.7/32', '92.223.40.17/32', '92.223.118.5/32', '80.15.250.1/32', '66.84.78.146/32', '92.223.123.51/32', '80.240.113.5/32', '90.84.153.99/32', '93.123.17.192/32', '92.223.123.41/32', '80.15.251.25/32', '95.85.92.7/32', '5.188.121.183/32', '79.133.108.24/32', '92.223.40.18/32', '92.223.118.13/32', '92.223.55.18/32', '5.252.26.11/32', '92.223.124.54/32', '5.188.133.10/32', '103.178.28.11/32', '5.8.92.4/32', '80.93.215.5/32', '193.242.96.5/32', '92.223.120.10/32', '92.223.118.12/32', '109.61.41.12/32', '93.123.17.140/32', '89.39.82.4/32', '46.49.10.229/32', '94.129.12.210/32', '92.223.116.244/32', '118.103.136.245/32', '95.85.92.8/32', '94.176.183.12/32', '82.148.98.42/32', '79.133.108.31/32', '92.223.122.186/32', '92.223.76.21/32', '92.223.47.6/32', '66.84.78.145/32', '5.188.121.185/32', '80.15.252.63/32', '45.68.4.2/32', '103.178.29.8/32', '92.223.124.16/32', '5.188.121.135/32', '5.188.121.161/32', '92.223.123.50/32', '92.223.124.32/32', '5.188.121.165/32', '94.176.183.11/32', '92.223.107.57/32', '93.123.17.185/32', '92.223.124.49/32', '93.123.17.165/32', '92.223.124.11/32', '92.223.116.241/32', '179.51.50.82/32', '93.123.17.167/32', '62.112.216.11/32', '80.15.230.3/32', '92.223.107.48/32', '176.222.187.178/32', '92.223.116.226/32', '92.223.76.26/32', '92.223.124.23/32', '92.223.47.5/32', '91.243.83.5/32', '87.120.164.5/32', '93.123.17.154/32', '103.178.29.7/32', '79.133.108.10/32', '94.128.12.238/32', '87.120.164.7/32', '92.223.124.37/32', '45.82.101.8/32', '93.115.241.5/32', '5.101.217.4/32', '103.178.28.15/32', '193.169.251.8/32', '5.188.121.166/32', '80.15.252.65/32', '93.123.17.151/32', '92.38.142.25/32', '78.111.103.5/32', '186.2.150.34/32', '92.223.40.14/32', '92.223.124.52/32', '92.223.112.28/32', '92.223.55.14/32', '185.163.3.6/32', '109.68.233.242/32', '80.15.229.1/32', '92.223.116.229/32', '195.14.146.81/32', '79.133.108.27/32', '195.216.237.201/32', '31.184.207.5/32', '92.223.107.44/32', '92.223.124.44/32', '91.185.14.226/32', '80.15.252.43/32', '92.223.116.228/32', '193.36.180.9/32', '92.223.63.29/32', '92.38.170.8/32', '92.223.12.10/32', '92.223.107.58/32', '5.101.222.6/32', '150.107.126.4/32', '92.223.12.4/32', '79.133.108.29/32', '217.195.193.4/32', '92.223.118.199/32', '92.223.116.240/32', '92.223.74.26/32', '93.123.17.158/32', '92.223.124.10/32', '92.223.118.198/32', '5.101.68.5/32', '92.38.168.7/32', '5.101.222.4/32', '5.252.26.7/32', '5.8.43.5/32', '92.223.118.27/32', '92.223.40.8/32', '92.223.124.43/32', '92.223.118.8/32', '92.223.118.28/32', '92.223.110.4/32', '193.57.89.4/32', '80.93.215.10/32', '78.111.103.4/32', '92.223.118.39/32', '82.97.205.4/32', '5.188.121.191/32', '92.223.118.197/32', '62.112.216.12/32', '92.223.61.25/32', '93.115.241.4/32', '92.223.124.33/32', '92.223.116.223/32', '92.223.40.12/32', '80.15.251.13/32', '92.223.124.5/32', '80.15.246.1/32', '193.242.96.6/32', '92.223.12.8/32', '90.84.153.226/32', '93.123.17.166/32', '200.10.177.54/32', '185.101.136.9/32', '80.15.235.25/32', '92.223.118.18/32', '80.15.230.1/32', '134.0.219.26/32', '92.223.122.187/32', '92.223.12.23/32', '80.15.251.23/32', '5.252.26.10/32', '92.223.63.26/32', '92.38.170.10/32', '103.178.28.12/32', '193.169.251.7/32', '31.184.207.10/32', '92.223.118.37/32', '5.188.94.5/32', '154.120.250.210/32', '92.223.107.39/32', '80.240.124.5/32', '103.178.28.9/32', '92.223.116.237/32', '93.123.17.191/32', '92.223.63.5/32', '102.67.99.50/32', '192.16.87.153/32', '193.169.250.7/32', '92.223.12.27/32', '62.112.216.10/32', '45.80.213.6/32', '79.133.108.17/32', '92.223.124.9/32', '92.223.116.235/32', '80.240.113.8/32', '92.223.116.227/32', '92.223.124.4/32', '5.188.121.184/32', '92.223.123.34/32', '79.133.108.9/32', '92.223.123.45/32', '93.123.17.193/32', '80.15.235.5/32', '87.120.164.6/32', '102.130.69.141/32', '194.158.198.7/32', '92.223.123.32/32', '193.169.251.6/32', '80.240.124.6/32', '92.38.159.7/32', '193.169.250.4/32', '92.223.116.233/32', '80.240.124.9/32', '130.193.166.2/32', '195.216.237.199/32', '93.123.11.11/32', '5.188.121.182/32', '80.15.252.209/32', '146.185.221.132/32', '92.223.124.8/32', '92.223.116.204/32', '190.95.248.34/32', '5.8.92.5/32', '92.223.12.25/32', '80.15.252.67/32', '125.214.171.164/32', '197.215.140.235/32', '213.156.151.5/32', '92.223.107.36/32', '92.223.116.214/32', '93.123.17.156/32', '92.223.118.10/32', '82.213.5.50/32', '103.178.28.4/32', '92.223.74.21/32', '213.156.151.4/32', '92.223.12.14/32', '92.223.107.51/32', '37.17.119.210/32', '80.15.232.3/32', '79.133.108.6/32', '92.223.122.188/32', '93.123.17.155/32', '92.223.124.22/32', '92.223.118.15/32', '5.188.132.5/32', '92.223.116.236/32', '93.123.11.16/32', '92.223.107.40/32', '62.112.223.4/32', '31.184.207.12/32', '102.67.99.66/32', '92.223.43.13/32', '92.223.63.27/32', '31.184.207.11/32', '78.111.101.5/32', '93.123.17.175/32', '80.15.229.3/32', '45.82.100.5/32', '80.15.243.13/32', '103.178.29.9/32', '62.112.216.6/32', '5.1.107.249/32', '92.223.116.211/32', '92.223.12.13/32', '213.156.144.7/32', '160.32.246.129/32', '93.123.17.188/32', '92.223.124.24/32', '92.223.118.24/32', '94.176.183.8/32', '109.230.114.2/32', '5.188.132.6/32', '92.223.107.46/32', '82.97.205.5/32', '92.223.124.18/32', '93.123.11.14/32', '92.223.120.13/32', '93.123.17.137/32', '213.156.151.6/32', '80.15.251.31/32', '80.240.113.7/32', '193.36.180.6/32', '160.32.246.137/32', '213.156.156.4/32', '80.15.251.15/32', '103.178.28.14/32', '92.223.74.20/32', '93.123.11.18/32', '92.223.116.225/32', '93.123.38.5/32', '103.178.29.6/32', '92.223.116.212/32', '92.223.124.48/32', '93.123.17.176/32', '78.111.101.4/32', '80.15.248.13/32', '92.223.12.7/32', '93.123.11.13/32', '5.188.126.5/32', '31.184.207.6/32', '80.15.251.11/32', '103.178.28.7/32', '92.223.107.45/32', '80.15.248.15/32', '80.93.215.11/32', '5.101.222.7/32', '95.85.92.6/32', '5.188.126.6/32', '92.223.116.224/32', '37.239.145.2/32', '92.223.78.22/32', '213.156.144.6/32', '5.188.121.138/32', '79.133.108.4/32', '92.223.107.50/32', '79.133.108.14/32', '80.93.215.4/32', '92.223.40.4/32', '91.243.87.4/32', '92.223.116.234/32', '92.223.107.53/32', '193.36.180.5/32', '92.223.107.49/32', '92.223.107.59/32', '92.223.107.56/32', '80.93.215.8/32', '92.38.159.4/32', '193.169.251.10/32', '94.176.183.5/32', '93.123.17.143/32', '80.240.113.4/32', '45.80.213.8/32', '5.189.207.4/32', '193.169.251.4/32', '197.225.145.26/32', '202.78.162.5/32', '134.0.219.37/32', '92.223.123.46/32', '93.123.17.195/32', '93.123.17.168/32', '80.240.113.9/32', '151.248.104.69/32', '202.78.162.6/32', '92.223.118.196/32', '195.22.198.49/32', '92.223.61.21/32', '92.223.123.47/32', '103.178.29.4/32', '92.223.76.28/32', '80.240.113.6/32', '80.240.124.7/32', '80.15.252.33/32', '192.16.87.145/32', '92.38.159.5/32', '192.16.87.137/32', '92.223.124.27/32', '95.85.92.5/32', '80.93.221.4/32', '92.223.120.12/32', '80.15.251.9/32', '194.158.198.6/32', '79.133.108.13/32', '5.101.219.6/32', '92.223.55.16/32', '185.188.144.4/32', '5.188.121.192/32', '79.133.108.7/32', '92.223.107.55/32', '193.169.250.9/32', '93.123.17.139/32', '185.101.136.12/32', '92.223.118.21/32', '92.38.159.6/32', '92.223.118.17/32', '31.184.207.7/32', '217.195.193.7/32', '80.240.113.12/32', '92.223.12.6/32', '92.223.108.5/32', '197.188.22.102/32', '92.223.118.29/32', '79.133.108.26/32', '5.101.219.5/32', '93.123.17.162/32', '93.123.17.160/32', '92.223.116.220/32', '103.178.28.5/32', '90.84.153.227/32', '93.123.17.179/32', '92.223.63.9/32', '194.158.198.3/32', '92.38.170.6/32', '197.215.140.234/32', '92.223.63.24/32', '92.223.124.6/32', '80.15.244.15/32', '80.15.228.1/32', '80.240.113.10/32', '92.223.63.10/32', '192.16.87.161/32', '79.133.108.5/32', '92.223.107.54/32', '92.223.63.6/32', '92.223.63.7/32', '93.123.17.178/32', '80.15.246.3/32', '92.223.116.243/32', '181.174.80.182/32', '217.195.193.6/32', '92.223.116.238/32', '90.84.153.194/32', '90.84.153.66/32', '92.38.170.7/32', '80.240.124.4/32', '5.188.126.4/32', '93.123.17.181/32', '80.15.252.47/32', '92.38.142.21/32', '80.240.113.11/32', '193.36.180.10/32', '92.223.40.10/32', '92.223.107.42/32', '92.223.76.25/32', '213.156.144.5/32', '92.223.124.34/32', '80.93.215.9/32', '79.133.108.32/32', '92.223.120.14/32', '92.223.116.242/32', '37.17.119.212/32', '5.252.26.9/32', '185.48.136.150/32', '90.84.153.98/32', '90.84.153.67/32', '90.84.153.18/32', '90.84.153.129/32', '90.84.153.225/32', '90.84.153.163/32', '90.84.153.131/32', '90.84.153.33/32', '90.84.153.161/32', '90.84.153.17/32', '90.84.153.193/32', '90.84.153.130/32', '90.84.153.162/32', '90.84.153.19/32', '90.84.153.65/32', '103.178.28.8/32', '94.43.206.202/32', '92.223.118.14/32', '92.223.12.20/32', '92.223.40.16/32', '78.111.110.6/32', '194.44.246.206/32', '92.223.12.11/32', '92.223.116.216/32', '185.188.144.8/32', '92.223.43.14/32', '92.223.118.19/32', '93.123.38.4/32', '80.15.252.17/32', '92.223.107.38/32', '92.223.12.12/32', '5.188.121.181/32', '80.93.215.12/32', '92.223.116.200/32', '80.15.252.9/32', '45.65.8.4/32', '202.78.162.4/32', '92.223.118.16/32', '93.123.17.142/32', '45.82.101.7/32', '45.80.213.5/32', '80.93.210.4/32', '92.223.108.13/32', '80.15.248.3/32', '92.223.123.48/32', '90.84.153.97/32', '90.84.153.35/32', '90.84.153.34/32', '90.84.153.195/32', '87.120.167.42/32', '87.120.167.72/32', '87.120.167.96/32', '109.61.16.35/32', '109.61.16.109/32', '109.61.16.98/32', '95.85.93.31/32', '95.85.93.160/32', '95.85.93.155/32', '91.243.81.199/32', '91.243.81.66/32', '91.243.81.20/32', '94.177.131.57/32', '94.177.131.25/32', '94.177.131.92/32', '82.117.226.107/32', '82.117.226.240/32'
        ];

        function cidrToRange(cidr) {
            const [ip, mask] = cidr.split('/');
            const ipArray = ip.split('.').map(Number);
            const range = 32 - mask;
            const rangeSize = Math.pow(2, range);
            const start = ((ipArray[0] << 24) + (ipArray[1] << 16) + (ipArray[2] << 8) + ipArray[3]);
            const end = start + rangeSize;
            return [start, end];
        }

        function ipInRange(ip, range) {
            const [start, end] = range;
            const ipParts = ip.split('.').map(Number);
            const ipNum = (ipParts[0] << 24) + (ipParts[1] << 16) + (ipParts[2] << 8) + ipParts[3];
            return ipNum >= start && ipNum <= end;
        }

        function startTest() {
            validIPs = [];
            const maxLatency = document.getElementById('max-latency').value;
            const ipCount = document.getElementById('ip-count').value;

            cidrRanges.forEach(cidr => {
                const range = cidrToRange(cidr);
                for (let i = range[0]; i < range[1]; i++) {
                    const ip = `${(i >> 24) & 255}.${(i >> 16) & 255}.${(i >> 8) & 255}.${i & 255}`;
                    const latency = Math.random() * maxLatency; // Simulated latency

                    if (latency <= maxLatency) {
                        validIPs.push({ ip, latency: latency.toFixed(2) });
                    }
                }
            });

            displayResults(validIPs.slice(0, ipCount));
        }

        function displayResults(ips) {
            const resultList = document.getElementById('result-list');
            resultList.innerHTML = ''; // Clear previous results

            ips.forEach((data, index) => {
                const card = document.createElement('div');
                card.classList.add('result-card');
                card.innerHTML = `
                    <h4>IP ${index + 1}</h4>
                    <p>آی‌پی: ${data.ip}</p>
                    <p>تاخیر: ${data.latency} ms</p>
                    <button class="copy-button" onclick="copyIP('${data.ip}')">کپی آی‌پی</button>
                `;
                resultList.appendChild(card);
            });
        }

        function copyIP(ip) {
            navigator.clipboard.writeText(ip)
                .then(() => alert(`آی‌پی ${ip} کپی شد`))
                .catch(err => console.error('خطا در کپی کردن آی‌پی', err));
        }
    </script>
</body>
</html>